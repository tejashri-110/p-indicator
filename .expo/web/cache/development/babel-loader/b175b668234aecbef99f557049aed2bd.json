{"ast":null,"code":"var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _common = require(\"@react-native-firebase/app/lib/common\");\n\nvar _FirestoreDocumentReference = _interopRequireWildcard(require(\"./FirestoreDocumentReference\"));\n\nvar _FirestoreQuery2 = _interopRequireDefault(require(\"./FirestoreQuery\"));\n\nvar _FirestoreQueryModifiers = _interopRequireDefault(require(\"./FirestoreQueryModifiers\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar FirestoreCollectionReference = function (_FirestoreQuery) {\n  (0, _inherits2.default)(FirestoreCollectionReference, _FirestoreQuery);\n\n  var _super = _createSuper(FirestoreCollectionReference);\n\n  function FirestoreCollectionReference(firestore, collectionPath) {\n    (0, _classCallCheck2.default)(this, FirestoreCollectionReference);\n    return _super.call(this, firestore, collectionPath, new _FirestoreQueryModifiers.default());\n  }\n\n  (0, _createClass2.default)(FirestoreCollectionReference, [{\n    key: \"add\",\n    value: function add(data) {\n      if (!(0, _common.isObject)(data)) {\n        throw new Error(\"firebase.firestore().collection().add(*) 'data' must be an object.\");\n      }\n\n      var documentRef = this.doc();\n      return documentRef.set(data).then(function () {\n        return Promise.resolve(documentRef);\n      });\n    }\n  }, {\n    key: \"doc\",\n    value: function doc(documentPath) {\n      var newPath = documentPath || (0, _common.generateFirestoreId)();\n\n      var path = this._collectionPath.child(newPath);\n\n      if (!path.isDocument) {\n        throw new Error(\"firebase.firestore().collection().doc(*) 'documentPath' must point to a document.\");\n      }\n\n      return new _FirestoreDocumentReference.default(this._firestore, path);\n    }\n  }, {\n    key: \"id\",\n    get: function get() {\n      return this._collectionPath.id;\n    }\n  }, {\n    key: \"parent\",\n    get: function get() {\n      var parent = this._collectionPath.parent();\n\n      if (!parent) {\n        return null;\n      }\n\n      return new _FirestoreDocumentReference.default(this._firestore, parent);\n    }\n  }, {\n    key: \"path\",\n    get: function get() {\n      return this._collectionPath.relativeName;\n    }\n  }]);\n  return FirestoreCollectionReference;\n}(_FirestoreQuery2.default);\n\nexports.default = FirestoreCollectionReference;\n(0, _FirestoreDocumentReference.provideCollectionReferenceClass)(FirestoreCollectionReference);","map":{"version":3,"sources":["C:/Users/mitba/Razorpay/p-indicator-1/node_modules/@react-native-firebase/firestore/lib/FirestoreCollectionReference.js"],"names":["FirestoreCollectionReference","firestore","collectionPath","FirestoreQueryModifiers","data","Error","documentRef","doc","set","then","Promise","resolve","documentPath","newPath","path","_collectionPath","child","isDocument","FirestoreDocumentReference","_firestore","id","parent","relativeName","FirestoreQuery"],"mappings":";;;;;;;;;;;;;;;;;;;AAiBA;;AACA;;AAGA;;AACA;;;;;;IAEqBA,4B;;;;;AACnB,wCAAYC,SAAZ,EAAuBC,cAAvB,EAAuC;AAAA;AAAA,6BAC/BD,SAD+B,EACpBC,cADoB,EACJ,IAAIC,gCAAJ,EADI;AAEtC;;;;wBAkBGC,I,EAAM;AACR,UAAI,CAAC,sBAASA,IAAT,CAAL,EAAqB;AACnB,cAAM,IAAIC,KAAJ,CAAU,oEAAV,CAAN;AACD;;AAED,UAAMC,WAAW,GAAG,KAAKC,GAAL,EAApB;AACA,aAAOD,WAAW,CAACE,GAAZ,CAAgBJ,IAAhB,EAAsBK,IAAtB,CAA2B;AAAA,eAAMC,OAAO,CAACC,OAAR,CAAgBL,WAAhB,CAAN;AAAA,OAA3B,CAAP;AACD;;;wBAEGM,Y,EAAc;AAChB,UAAMC,OAAO,GAAGD,YAAY,IAAI,kCAAhC;;AACA,UAAME,IAAI,GAAG,KAAKC,eAAL,CAAqBC,KAArB,CAA2BH,OAA3B,CAAb;;AAEA,UAAI,CAACC,IAAI,CAACG,UAAV,EAAsB;AACpB,cAAM,IAAIZ,KAAJ,CACJ,mFADI,CAAN;AAGD;;AAED,aAAO,IAAIa,mCAAJ,CAA+B,KAAKC,UAApC,EAAgDL,IAAhD,CAAP;AACD;;;wBApCQ;AACP,aAAO,KAAKC,eAAL,CAAqBK,EAA5B;AACD;;;wBAEY;AACX,UAAMC,MAAM,GAAG,KAAKN,eAAL,CAAqBM,MAArB,EAAf;;AACA,UAAI,CAACA,MAAL,EAAa;AACX,eAAO,IAAP;AACD;;AACD,aAAO,IAAIH,mCAAJ,CAA+B,KAAKC,UAApC,EAAgDE,MAAhD,CAAP;AACD;;;wBAEU;AACT,aAAO,KAAKN,eAAL,CAAqBO,YAA5B;AACD;;;EAnBuDC,wB;;;AA6C1D,iEAAgCvB,4BAAhC","sourcesContent":["/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { generateFirestoreId, isObject } from '@react-native-firebase/app/lib/common';\nimport FirestoreDocumentReference, {\n  provideCollectionReferenceClass,\n} from './FirestoreDocumentReference';\nimport FirestoreQuery from './FirestoreQuery';\nimport FirestoreQueryModifiers from './FirestoreQueryModifiers';\n\nexport default class FirestoreCollectionReference extends FirestoreQuery {\n  constructor(firestore, collectionPath) {\n    super(firestore, collectionPath, new FirestoreQueryModifiers());\n  }\n\n  get id() {\n    return this._collectionPath.id;\n  }\n\n  get parent() {\n    const parent = this._collectionPath.parent();\n    if (!parent) {\n      return null;\n    }\n    return new FirestoreDocumentReference(this._firestore, parent);\n  }\n\n  get path() {\n    return this._collectionPath.relativeName;\n  }\n\n  add(data) {\n    if (!isObject(data)) {\n      throw new Error(\"firebase.firestore().collection().add(*) 'data' must be an object.\");\n    }\n\n    const documentRef = this.doc();\n    return documentRef.set(data).then(() => Promise.resolve(documentRef));\n  }\n\n  doc(documentPath) {\n    const newPath = documentPath || generateFirestoreId();\n    const path = this._collectionPath.child(newPath);\n\n    if (!path.isDocument) {\n      throw new Error(\n        \"firebase.firestore().collection().doc(*) 'documentPath' must point to a document.\",\n      );\n    }\n\n    return new FirestoreDocumentReference(this._firestore, path);\n  }\n}\n\n// To avoid React Native require cycle warnings\nprovideCollectionReferenceClass(FirestoreCollectionReference);\n"]},"metadata":{},"sourceType":"script"}