{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nvar _jsxFileName = \"C:\\\\Users\\\\mitba\\\\Razorpay\\\\p-indicator-1\\\\screens\\\\Destination.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Destination = function (_React$Component) {\n  (0, _inherits2.default)(Destination, _React$Component);\n\n  var _super = _createSuper(Destination);\n\n  function Destination(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Destination);\n    _this = _super.call(this, props);\n    _this.state = {\n      Number: '',\n      UName: '',\n      mName: '',\n      SlotEmpty: '',\n      priceC: '',\n      priceB: '',\n      locNo: '',\n      Ema: _this.props.navigation.state.params.n2\n    };\n\n    _this.buttoninfinity1 = function () {\n      _this.setState({\n        Number: '1',\n        mName: 'Infinity',\n        priceC: 50,\n        priceB: 30,\n        locNo: 1\n      });\n    };\n\n    _this.buttonOberoi2 = function () {\n      _this.setState({\n        Number: '2',\n        mName: 'Oberoi',\n        priceC: 60,\n        priceB: 40,\n        locNo: 2\n      });\n    };\n\n    _this.buttonPhoenix3 = function () {\n      _this.setState({\n        Number: '3',\n        mName: 'Phoenix',\n        priceC: 45,\n        priceB: 25,\n        locNo: 3\n      });\n    };\n\n    _this.getCollection = function (querySnapshot) {\n      var userArrslot = [];\n      querySnapshot.forEach(function (res) {\n        var _res$data = res.data(),\n            SlotNo = _res$data.SlotNo;\n\n        userArrslot.push({\n          SlotNo: SlotNo\n        });\n      });\n\n      _this.setState({\n        SlotEmpty: 9 - userArrslot.length\n      });\n    };\n\n    _this.getCollection1 = function (querySnapshot) {\n      var userArrName = [];\n      querySnapshot.forEach(function (res) {\n        var _res$data2 = res.data(),\n            UserName = _res$data2.UserName,\n            Email = _res$data2.Email;\n\n        userArrName.push({\n          UserName: UserName,\n          Email: Email\n        });\n      });\n\n      for (i = 0; i < userArrName.length; i++) {\n        if (userArrName[i].Email === _this.state.Ema) {\n          _this.setState({\n            UName: userArrName[i].UserName\n          });\n        }\n      }\n    };\n\n    _this.GO = function () {\n      _this.componentDidMount();\n\n      if (_this.state.SlotEmpty < 0) {\n        alert(\"booking full at \" + _this.state.mName);\n      } else {\n        _this.dbRef.add({\n          Number: _this.state.Number,\n          SlotEmpty: _this.state.SlotEmpty,\n          Name: _this.state.UName\n        }).then(function () {\n          _this.props.navigation.navigate('bookhere', {\n            pr1: _this.state.priceC,\n            pr2: _this.state.priceB,\n            l1: _this.state.locNo\n          });\n        }).catch(function (err) {\n          console.error(\"Error found: \", err);\n          alert(error);\n        });\n      }\n    };\n\n    _this.buttoninfinity1 = _this.buttoninfinity1.bind((0, _assertThisInitialized2.default)(_this));\n    _this.buttonOberoi2 = _this.buttonOberoi2.bind((0, _assertThisInitialized2.default)(_this));\n    _this.buttonPhoenix3 = _this.buttonPhoenix3.bind((0, _assertThisInitialized2.default)(_this));\n    _this.GO = _this.GO.bind((0, _assertThisInitialized2.default)(_this));\n    _this.dbRefName = _config.default.firestore().collection('Users');\n    _this.dbRef = _config.default.firestore().collection('Location');\n    _this.dbRefBook = _config.default.firestore().collection('BookingDet');\n    return _this;\n  }\n\n  (0, _createClass2.default)(Destination, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.unsubscribe = this.dbRefBook.onSnapshot(this.getCollection);\n      this.unsubscribe1 = this.dbRefName.onSnapshot(this.getCollection1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var buttonStylesubmit = {\n        color: \"#FFFFFF\",\n        backgroundColor: \"#008484\",\n        paddingBottom: 10,\n        paddingRight: 18,\n        paddingLeft: 18,\n        fontSize: 25,\n        height: 40,\n        width: 450,\n        marginBottom: 20\n      };\n      var buttonsubmit = {\n        color: \"#FFFFFF\",\n        backgroundColor: \"#008484\",\n        paddingBottom: 10,\n        paddingRight: 18,\n        paddingLeft: 18,\n        fontSize: 30,\n        height: 40,\n        width: 450,\n        marginBottom: 20,\n        alignItems: 'center'\n      };\n      var selectText = {\n        color: \"#008484\",\n        justifyContent: 'center',\n        fontSize: 25\n      };\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: styles.RectangleShapeView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: styles.textHeading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }\n      }, \"Destination\")), _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }\n      }, _react.default.createElement(\"button\", {\n        style: buttonStylesubmit,\n        onClick: this.buttoninfinity1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }\n      }, \"Infinity Mall,Malad\"), _react.default.createElement(\"button\", {\n        style: buttonStylesubmit,\n        disabled: true,\n        onClick: this.buttonOberoi2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }\n      }, \"Oberoi Mall,Goregoan\"), _react.default.createElement(\"button\", {\n        style: buttonStylesubmit,\n        disabled: true,\n        onClick: this.buttonPhoenix3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 25\n        }\n      }, \"Phoenix Mall,Pune\")), _react.default.createElement(_reactNative.Text, {\n        style: selectText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }\n      }, \"Selected Destination:\", this.state.mName), _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, _react.default.createElement(\"button\", {\n        style: buttonsubmit,\n        onClick: this.GO,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }\n      }, \"Next\")), _react.default.createElement(_reactNative.View, {\n        style: styles.RectangleShapedown,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n  return Destination;\n}(_react.default.Component);\n\nexports.default = Destination;\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#FFFFFF',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  RectangleShapeView: {\n    width: \"100%\",\n    height: 120,\n    backgroundColor: '#008484',\n    marginBottom: 5\n  },\n  RectangleShapedown: {\n    width: \"100%\",\n    height: 80,\n    marginBottom: 0,\n    backgroundColor: '#008484'\n  },\n  textHeading: {\n    color: \"#FFFFFF\",\n    fontSize: 40,\n    paddingTop: 60\n  }\n});","map":{"version":3,"sources":["C:/Users/mitba/Razorpay/p-indicator-1/screens/Destination.js"],"names":["Destination","props","state","Number","UName","mName","SlotEmpty","priceC","priceB","locNo","Ema","navigation","params","n2","buttoninfinity1","setState","buttonOberoi2","buttonPhoenix3","getCollection","querySnapshot","userArrslot","forEach","res","data","SlotNo","push","length","getCollection1","userArrName","UserName","Email","i","GO","componentDidMount","alert","dbRef","add","Name","then","navigate","pr1","pr2","l1","catch","err","console","error","bind","dbRefName","firebase","firestore","collection","dbRefBook","unsubscribe","onSnapshot","unsubscribe1","buttonStylesubmit","color","backgroundColor","paddingBottom","paddingRight","paddingLeft","fontSize","height","width","marginBottom","buttonsubmit","alignItems","selectText","justifyContent","styles","container","RectangleShapeView","textHeading","RectangleShapedown","React","Component","StyleSheet","create","flex","paddingTop"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {  StyleSheet, Text, View} from 'react-native';\r\nimport firebase from '../config';\r\n\r\nexport default class Destination extends React.Component {\r\n\r\n    state = {\r\n        Number:'',\r\n        UName:'',\r\n        mName: '',\r\n        SlotEmpty:'',\r\n        priceC:'',\r\n        priceB:'',\r\n        locNo:'',\r\n        Ema: this.props.navigation.state.params.n2,\r\n    }\r\n    buttoninfinity1 = () => {\r\n        this.setState({\r\n            Number:'1',\r\n            mName:'Infinity',\r\n            priceC: 50,\r\n            priceB: 30,\r\n            locNo: 1,\r\n        });\r\n    }\r\n    buttonOberoi2 = () => {\r\n        this.setState({\r\n            Number: '2',\r\n            mName: 'Oberoi',\r\n            priceC: 60,\r\n            priceB: 40,\r\n            locNo: 2,\r\n        });\r\n    }\r\n    buttonPhoenix3 = () => {\r\n        this.setState({\r\n            Number: '3',\r\n            mName: 'Phoenix',\r\n            priceC: 45,\r\n            priceB: 25,\r\n            locNo: 3,\r\n        });\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.buttoninfinity1 = this.buttoninfinity1.bind(this);\r\n        this.buttonOberoi2 = this.buttonOberoi2.bind(this);\r\n        this.buttonPhoenix3 = this.buttonPhoenix3.bind(this);\r\n        this.GO = this.GO.bind(this);\r\n        this.dbRefName = firebase.firestore().collection('Users');\r\n        this.dbRef = firebase.firestore().collection('Location');\r\n        this.dbRefBook = firebase.firestore().collection('BookingDet');\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.unsubscribe = this.dbRefBook.onSnapshot(this.getCollection);\r\n        this.unsubscribe1 = this.dbRefName.onSnapshot(this.getCollection1);\r\n    }\r\n\r\n    getCollection = (querySnapshot) => {\r\n        const userArrslot = [];\r\n        querySnapshot.forEach((res) => {\r\n            const { SlotNo } = res.data();\r\n            userArrslot.push({\r\n                SlotNo\r\n            });\r\n        });\r\n        this.setState({\r\n            SlotEmpty: (9 - userArrslot.length),\r\n        });\r\n\r\n    }\r\n\r\n    getCollection1 = (querySnapshot) => {\r\n        const userArrName = [];\r\n        querySnapshot.forEach((res) => {\r\n            const { UserName, Email } = res.data();\r\n            userArrName.push({\r\n                UserName, Email,\r\n            });\r\n        });\r\n        for (i = 0; i < userArrName.length; i++) {\r\n            if (userArrName[i].Email === this.state.Ema) {\r\n                this.setState({\r\n                    UName: userArrName[i].UserName,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    GO = () => {\r\n        this.componentDidMount();\r\n        if (this.state.SlotEmpty < 0) {\r\n            alert(\"booking full at \" + this.state.mName);\r\n        }\r\n        else{\r\n            \r\n            // console.log(\"outer\"+this.state.UName);\r\n            this.dbRef.add({\r\n                Number: this.state.Number,\r\n                SlotEmpty: this.state.SlotEmpty,\r\n                Name:this.state.UName,\r\n            }).then(() => {\r\n                this.props.navigation.navigate('bookhere', { pr1: this.state.priceC, pr2: this.state.priceB,l1:this.state.locNo });\r\n            }).catch((err) => {\r\n                console.error(\"Error found: \", err);\r\n                alert(error);\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n    render() {\r\n\r\n        const buttonStylesubmit = {\r\n            color: \"#FFFFFF\",\r\n            backgroundColor: \"#008484\",\r\n            paddingBottom: 10,\r\n            paddingRight: 18,\r\n            paddingLeft: 18,\r\n            //fontFamily: \"calibri\",\r\n            fontSize: 25,\r\n            // marginRight: \"80px\",\r\n            height: 40,\r\n            width: 450,\r\n            // marginLeft: 55,\r\n            marginBottom: 20\r\n        }\r\n        const buttonsubmit = {\r\n            color: \"#FFFFFF\",\r\n            backgroundColor: \"#008484\",\r\n            paddingBottom: 10,\r\n            paddingRight: 18,\r\n            paddingLeft: 18,\r\n            //fontFamily: calibri,\r\n            fontSize: 30,\r\n            // marginRight: \"80px\",\r\n            height: 40,\r\n            width: 450,\r\n            marginBottom: 20,\r\n            // marginLeft:155,\r\n            alignItems: 'center',\r\n        }\r\n        const selectText = {\r\n            color: \"#008484\",\r\n            //fontFamily: \"calibri\",\r\n            justifyContent: 'center',\r\n            fontSize: 25,\r\n            //textAlign:'center'\r\n            // marginRight: 65\r\n        }\r\n        return (\r\n            <View style={styles.container}>\r\n                <View style={styles.RectangleShapeView}>\r\n                    <Text style={styles.textHeading}>Destination</Text>\r\n                </View>\r\n                    <View>\r\n                \r\n                        <button style={buttonStylesubmit} onClick={this.buttoninfinity1}>Infinity Mall,Malad</button>\r\n                        <button style={buttonStylesubmit} disabled={true} onClick={this.buttonOberoi2}>Oberoi Mall,Goregoan</button>\r\n                        <button style={buttonStylesubmit} disabled={true} onClick={this.buttonPhoenix3}>Phoenix Mall,Pune</button>\r\n                    </View>\r\n                    <Text style={selectText} >\r\n                        Selected Destination:{this.state.mName}\r\n                    </Text>    \r\n                    <View>\r\n                        <button style={buttonsubmit} onClick={this.GO}>Next</button>\r\n                </View>\r\n                <View style={styles.RectangleShapedown}></View>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#FFFFFF',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    RectangleShapeView: {\r\n        width: \"100%\",\r\n        height: 120,\r\n        backgroundColor: '#008484',\r\n        marginBottom: 5,\r\n       // textAlign: \"center\",\r\n    },\r\n    RectangleShapedown: {\r\n        width: \"100%\",\r\n        height: 80,\r\n        marginBottom: 0,\r\n        backgroundColor: '#008484',\r\n        //textAlign: \"center\",\r\n    },\r\n    textHeading: {\r\n        color: \"#FFFFFF\",\r\n        fontSize: 40,\r\n        //fontFamily: \"calibri\",\r\n        paddingTop: 60\r\n    },\r\n});"]},"metadata":{},"sourceType":"script"}